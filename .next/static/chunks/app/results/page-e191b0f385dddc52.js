(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{9819:function(e,s,a){Promise.resolve().then(a.bind(a,218))},218:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return et}});var l=a(7437),t=a(2265),r=a(4029),i=a(2595),n=a(1098),c=a(9205);let o=(0,c.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var d=a(9322);let m=(0,c.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),h=(0,c.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,c.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),u=(0,c.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),g=(0,c.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,c.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var p=a(1671),y=a(2430),v=a(9625),N=a(6885);let f=(0,v.Ue)()((0,N.mW)((e,s)=>({clusters:[],selectedCluster:null,clusterInsights:[],isLoading:!1,error:null,filters:{},sort:{field:"score",direction:"desc"},searchQuery:"",currentPage:1,itemsPerPage:10,totalItems:0,pagination:{page:1,perPage:10,total:0},setClusters:s=>e({clusters:s,totalItems:s.length,pagination:{page:1,perPage:10,total:s.length}}),setSelectedCluster:s=>e({selectedCluster:s}),setClusterInsights:s=>e({clusterInsights:s}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),setFilters:s=>e(e=>{let a={...e.filters,...s};return(s.status&&(a.risk_level=[s.status]),s.search)?{filters:a,searchQuery:s.search,currentPage:1}:{filters:a,currentPage:1}}),clearFilters:()=>e({filters:{},currentPage:1}),setSort:s=>e({sort:s,currentPage:1}),setSearchQuery:s=>e({searchQuery:s,currentPage:1}),setCurrentPage:s=>e({currentPage:s}),setItemsPerPage:s=>e({itemsPerPage:s,currentPage:1}),setPagination:s=>e({currentPage:s.page,itemsPerPage:s.perPage,totalItems:s.total}),loadClusters:async s=>{e({isLoading:!0,error:null});try{let s=[{id:"cluster-1",name:"Metabolic Health",description:"Metabolic health cluster",biomarkers:["glucose","insulin"],score:85,risk_level:"low",category:"metabolic",insights:["Normal glucose metabolism"],recommendations:["Maintain current lifestyle"],created_at:new Date().toISOString(),status:"normal"},{id:"cluster-2",name:"Cardiovascular",description:"Cardiovascular health cluster",biomarkers:["cholesterol","triglycerides"],score:75,risk_level:"medium",category:"cardiovascular",insights:["Elevated cholesterol levels"],recommendations:["Consider lifestyle modifications"],created_at:new Date().toISOString(),status:"warning"},{id:"cluster-3",name:"Inflammation",description:"Inflammation markers",biomarkers:["crp","esr"],score:45,risk_level:"high",category:"inflammation",insights:["High inflammation detected"],recommendations:["Consult healthcare provider"],created_at:new Date().toISOString(),status:"critical"}];e({clusters:s,totalItems:s.length,pagination:{page:1,perPage:10,total:s.length},isLoading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load clusters",isLoading:!1})}},selectClusterById:a=>{e({selectedCluster:s().clusters.find(e=>e.id===a)||null})},selectCluster:(a,l)=>{e({selectedCluster:s().clusters.find(e=>e.id===a)||null,clusterInsights:l})},getClusterInsights:e=>s().clusterInsights.filter(s=>s.cluster_id===e),getFilteredClusters:()=>{var e,a,l;let t=s(),r=[...t.clusters];if(t.searchQuery){let e=t.searchQuery.toLowerCase();r=r.filter(s=>s.name.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||s.biomarkers.some(s=>s.toLowerCase().includes(e)))}if((null===(e=t.filters.risk_level)||void 0===e?void 0:e.length)&&(r=r.filter(e=>t.filters.risk_level.includes(e.risk_level))),t.filters.status&&(r=r.filter(e=>e.status===t.filters.status)),(null===(a=t.filters.category)||void 0===a?void 0:a.length)&&(r=r.filter(e=>t.filters.category.includes(e.category))),t.filters.score_range){let[e,s]=t.filters.score_range;r=r.filter(a=>a.score>=e&&a.score<=s)}return(null===(l=t.filters.biomarkers)||void 0===l?void 0:l.length)&&(r=r.filter(e=>t.filters.biomarkers.some(s=>e.biomarkers.includes(s)))),r.sort((e,s)=>{let{field:a,direction:l}=t.sort,r=e[a],i=s[a];if("risk_level"===a){let a={critical:4,high:3,medium:2,low:1};r=a[e.risk_level],i=a[s.risk_level]}return("string"==typeof r&&(r=r.toLowerCase(),i=i.toLowerCase()),"asc"===l)?r>i?1:-1:r<i?1:-1}),r},getPaginatedClusters:()=>{let e=s(),a=s().getFilteredClusters(),l=(e.currentPage-1)*e.itemsPerPage,t=l+e.itemsPerPage;return a.slice(l,t)},getSortedClusters:()=>s().getFilteredClusters(),getClusterById:e=>s().clusters.find(s=>s.id===e),getClustersByRiskLevel:e=>s().clusters.filter(s=>s.risk_level===e),getClustersByCategory:e=>s().clusters.filter(s=>s.category===e),getHighRiskClusters:()=>s().clusters.filter(e=>"high"===e.risk_level||"critical"===e.risk_level),getClusterSummary:()=>{let e=s().clusters,a=e.filter(e=>"high"===e.risk_level||"critical"===e.risk_level),l=e.map(e=>e.score).filter(e=>"number"==typeof e),t=Array.from(new Set(e.map(e=>e.category)));return{totalClusters:e.length,highRiskClusters:a.length,averageScore:l.length>0?l.reduce((e,s)=>e+s,0)/l.length:0,categories:t}},getClusterCategories:()=>Array.from(new Set(s().clusters.map(e=>e.category))),getInsightsForCluster:e=>s().clusterInsights.filter(s=>s.cluster_id===e),getActionableInsights:()=>s().clusterInsights.filter(e=>"high"===e.severity||"critical"===e.severity),filterClusters:e=>{let a=[...s().clusters];return e.status&&(a=a.filter(s=>s.status===e.status)),e.name&&(a=a.filter(s=>s.name.toLowerCase().includes(e.name.toLowerCase()))),a},paginateClusters:(e,a)=>{let l=s(),t=(e-1)*a;return l.clusters.slice(t,t+a)},updateClustersFromAnalysis:s=>{(null==s?void 0:s.clusters)&&e({clusters:s.clusters}),(null==s?void 0:s.insights)&&e({clusterInsights:s.insights})},clearClusters:()=>e({clusters:[],selectedCluster:null,clusterInsights:[],error:null,currentPage:1,totalItems:0,pagination:{page:1,perPage:10,total:0}})}),{name:"cluster-store"}));var b=a(1875);let w=(0,t.createContext)(void 0);function k(e){let{open:s,onOpenChange:a,children:r,className:i=""}=e,[n,c]=(0,t.useState)(!1);return(0,l.jsx)(w.Provider,{value:{open:void 0!==s?s:n,onOpenChange:a||c},children:(0,l.jsx)("div",{className:i,children:r})})}function C(e){let{asChild:s=!1,children:a,className:r=""}=e,i=(0,t.useContext)(w);if(!i)throw Error("CollapsibleTrigger must be used within a Collapsible component");let n=()=>{i.onOpenChange(!i.open)};return s&&t.isValidElement(a)?t.cloneElement(a,{onClick:n,className:"".concat(a.props.className||""," ").concat(r).trim()}):(0,l.jsx)("button",{className:"cursor-pointer ".concat(r),onClick:n,children:a})}function _(e){let{children:s,className:a=""}=e,r=(0,t.useContext)(w);if(!r)throw Error("CollapsibleContent must be used within a Collapsible component");return r.open?(0,l.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out ".concat(a),children:s}):null}let S=(0,c.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var A=a(875);let I=(0,c.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var P=a(1236);let Z=(0,c.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),z=(0,c.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M={info:{icon:Z,color:"bg-blue-100 text-blue-800",borderColor:"border-blue-200",bgColor:"bg-blue-50"},warning:{icon:z,color:"bg-yellow-100 text-yellow-800",borderColor:"border-yellow-200",bgColor:"bg-yellow-50"},critical:{icon:(0,c.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),color:"bg-red-100 text-red-800",borderColor:"border-red-200",bgColor:"bg-red-50"}},H={metabolic:"bg-green-100 text-green-800",cardiovascular:"bg-red-100 text-red-800",inflammatory:"bg-orange-100 text-orange-800",organ:"bg-purple-100 text-purple-800",nutritional:"bg-blue-100 text-blue-800",hormonal:"bg-pink-100 text-pink-800"};function R(e){let{insight:s,className:a=""}=e,t=M[s.severity],i=t.icon,n=H[s.category]||"bg-gray-100 text-gray-800";return(0,l.jsxs)(r.Zb,{className:"".concat(a," ").concat(t.borderColor," ").concat(t.bgColor),children:[(0,l.jsx)(r.Ol,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i,{className:"h-5 w-5 text-gray-600"}),(0,l.jsx)(r.ll,{className:"text-lg font-semibold text-gray-900",children:s.summary})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,l.jsx)(b.C,{className:n,children:s.category}),(0,l.jsx)(b.C,{className:t.color,children:s.severity})]})]})}),(0,l.jsxs)(r.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-gray-700",children:"Confidence"}),(0,l.jsxs)("span",{className:"text-gray-600",children:[Math.round(100*s.confidence),"%"]})]}),(0,l.jsx)(P.E,{value:100*s.confidence,className:"h-2"})]}),s.biomarkers_involved.length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Biomarkers Involved"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.biomarkers_involved.map(e=>(0,l.jsx)(b.C,{variant:"outline",className:"text-xs",children:e},e))})]}),s.lifestyle_factors.length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Lifestyle Factors"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.lifestyle_factors.map(e=>(0,l.jsx)(b.C,{variant:"secondary",className:"text-xs",children:e},e))})]}),s.recommendations.length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Recommendations"}),(0,l.jsx)("ul",{className:"space-y-1",children:s.recommendations.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:e})]},s))})]}),s.evidence&&Object.keys(s.evidence).length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Evidence Summary"}),(0,l.jsx)("div",{className:"text-sm text-gray-600 bg-white p-3 rounded-md border",children:(0,l.jsx)("pre",{className:"whitespace-pre-wrap text-xs",children:JSON.stringify(s.evidence,null,2)})})]}),(0,l.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Generated on ",new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),(0,l.jsxs)("span",{children:["ID: ",s.id]})]})})]})]})}let O={metabolic:"Metabolic Health",cardiovascular:"Cardiovascular Health",inflammatory:"Inflammatory Health",organ:"Organ Health",nutritional:"Nutritional Health",hormonal:"Hormonal Health"},L={critical:3,warning:2,info:1};function Y(e){let{insights:s,className:a=""}=e,[c,o]=(0,t.useState)("all"),[d,m]=(0,t.useState)("all"),[h,x]=(0,t.useState)(new Set),u=s.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});Object.keys(u).forEach(e=>{u[e].sort((e,s)=>{let a=L[s.severity]-L[e.severity];return 0!==a?a:s.confidence-e.confidence})}),s.filter(e=>{let s="all"===c||e.category===c,a="all"===d||e.severity===d;return s&&a});let p=Array.from(new Set(s.map(e=>e.category))),y=Array.from(new Set(s.map(e=>e.severity))),v=s.length,N=s.filter(e=>"critical"===e.severity).length,f=s.filter(e=>"warning"===e.severity).length,w=s.reduce((e,s)=>e+s.confidence,0)/v||0,P=e=>{let s=new Set(h);s.has(e)?s.delete(e):s.add(e),x(s)};return 0===v?(0,l.jsxs)(r.Zb,{className:a,children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(g,{className:"h-5 w-5"}),"Health Insights"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(j,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,l.jsx)("p",{children:"No insights available yet."}),(0,l.jsx)("p",{className:"text-sm",children:"Complete your biomarker analysis to generate personalized health insights."})]})})]}):(0,l.jsxs)(r.Zb,{className:a,children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(g,{className:"h-5 w-5"}),"Health Insights"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(b.C,{variant:"outline",className:"text-sm",children:[v," insights"]}),N>0&&(0,l.jsxs)(b.C,{variant:"destructive",className:"text-sm",children:[N," critical"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:v}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Total Insights"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:N+f}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Need Attention"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(100*w),"%"]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Avg Confidence"})]})]})]}),(0,l.jsxs)(r.aY,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(S,{className:"h-4 w-4 text-gray-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),(0,l.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),p.map(e=>(0,l.jsx)("option",{value:e,children:O[e]||e},e))]}),(0,l.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[(0,l.jsx)("option",{value:"all",children:"All Severities"}),y.map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),("all"!==c||"all"!==d)&&(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>{o("all"),m("all")},className:"text-xs",children:"Clear Filters"})]}),(0,l.jsxs)(n.mQ,{value:c,onValueChange:o,children:[(0,l.jsxs)(n.dr,{className:"grid w-full grid-cols-7",children:[(0,l.jsx)(n.SP,{value:"all",className:"text-xs",children:"All"}),p.map(e=>(0,l.jsx)(n.SP,{value:e,className:"text-xs",children:O[e]||e},e))]}),(0,l.jsx)(n.nU,{value:"all",className:"space-y-4",children:Object.entries(u).map(e=>{let[s,a]=e;return(0,l.jsxs)(k,{open:h.has(s),onOpenChange:()=>P(s),children:[(0,l.jsx)(C,{asChild:!0,children:(0,l.jsx)(i.z,{variant:"ghost",className:"w-full justify-between p-4 h-auto",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[h.has(s)?(0,l.jsx)(A.Z,{className:"h-4 w-4"}):(0,l.jsx)(I,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-medium",children:O[s]||s}),(0,l.jsx)(b.C,{variant:"outline",className:"text-xs",children:a.length})]})})}),(0,l.jsx)(_,{className:"space-y-4 pl-6",children:a.map(e=>(0,l.jsx)(R,{insight:e},e.id))})]},s)})}),p.map(e=>{var s;return(0,l.jsx)(n.nU,{value:e,className:"space-y-4",children:null===(s=u[e])||void 0===s?void 0:s.map(e=>(0,l.jsx)(R,{insight:e},e.id))},e)})]})]})]})}let D=(0,c.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),E={metabolic:{name:"Metabolic Health",biomarkers:["glucose","hba1c","insulin","c_peptide"],color:"blue"},cardiovascular:{name:"Cardiovascular Health",biomarkers:["total_cholesterol","ldl_cholesterol","hdl_cholesterol","triglycerides","apolipoprotein_b","apolipoprotein_a1"],color:"red"},inflammatory:{name:"Inflammatory Health",biomarkers:["crp","esr","il_6","tnf_alpha"],color:"orange"},organ:{name:"Organ Function",biomarkers:["creatinine","bun","alt","ast","ggt","alkaline_phosphatase"],color:"green"},cbc:{name:"Complete Blood Count",biomarkers:["hemoglobin","hematocrit","wbc","rbc","platelets"],color:"purple"},hormonal:{name:"Hormonal Health",biomarkers:["tsh","free_t4","free_t3","cortisol","testosterone"],color:"pink"},nutritional:{name:"Nutritional Status",biomarkers:["vitamin_d","vitamin_b12","folate","iron","ferritin"],color:"yellow"}},F={glucose:"Glucose",hba1c:"HbA1c",insulin:"Insulin",c_peptide:"C-Peptide",total_cholesterol:"Total Cholesterol",ldl_cholesterol:"LDL Cholesterol",hdl_cholesterol:"HDL Cholesterol",triglycerides:"Triglycerides",apolipoprotein_b:"Apolipoprotein B",apolipoprotein_a1:"Apolipoprotein A1",crp:"C-Reactive Protein",esr:"Erythrocyte Sedimentation Rate",il_6:"Interleukin-6",tnf_alpha:"TNF-α",creatinine:"Creatinine",bun:"Blood Urea Nitrogen",alt:"ALT",ast:"AST",ggt:"GGT",alkaline_phosphatase:"Alkaline Phosphatase",hemoglobin:"Hemoglobin",hematocrit:"Hematocrit",wbc:"White Blood Cell Count",rbc:"Red Blood Cell Count",platelets:"Platelet Count",tsh:"TSH",free_t4:"Free T4",free_t3:"Free T3",cortisol:"Cortisol",testosterone:"Testosterone",vitamin_d:"Vitamin D",vitamin_b12:"Vitamin B12",folate:"Folate",iron:"Iron",ferritin:"Ferritin"},T=e=>{switch(e){case"optimal":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"elevated":return"text-yellow-600 bg-yellow-100";case"low":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},B=e=>{switch(e){case"optimal":case"normal":return(0,l.jsx)(p.Z,{className:"h-4 w-4"});case"elevated":return(0,l.jsx)(j,{className:"h-4 w-4"});case"low":return(0,l.jsx)(D,{className:"h-4 w-4"});case"critical":return(0,l.jsx)(z,{className:"h-4 w-4"});default:return(0,l.jsx)(Z,{className:"h-4 w-4"})}},U=e=>{switch(e){case"optimal":return"Optimal";case"normal":return"Normal";case"elevated":return"Elevated";case"low":return"Low";case"critical":return"Critical";default:return"Unknown"}},Q=(e,s)=>{if(!s)return 50;let a=s.max-s.min;return Math.max(0,Math.min(100,(e-s.min)/a*100))},q=(e,s)=>"critical"===s?"stroke-red-500":"elevated"===s||"low"===s?"stroke-yellow-500":"optimal"===s||"normal"===s?"stroke-green-500":e<20||e>80?"stroke-red-500":e<30||e>70?"stroke-yellow-500":"stroke-green-500";function V(e){let{biomarkers:s,showDetails:a=!1}=e,[c,o]=(0,t.useState)(new Set),[d,m]=(0,t.useState)("all"),h=e=>{let s=new Set(c);s.has(e)?s.delete(e):s.add(e),o(s)},x=(()=>{let e={};return Object.entries(s).forEach(s=>{var a;let[l,t]=s,r=(null===(a=Object.entries(E).find(e=>{let[s,a]=e;return a.biomarkers.includes(l)}))||void 0===a?void 0:a[0])||"other";e[r]||(e[r]=[]),e[r].push({id:l,data:t})}),e})(),u=Object.keys(x),g=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"md",t="sm"===a?2:"md"===a?3:4,r="sm"===a?28:"md"===a?40:"lg"===a?56:40,i=2*Math.PI*r;return(0,l.jsxs)("div",{className:"".concat({sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"}[a]," relative"),children:[(0,l.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,l.jsx)("circle",{cx:"50",cy:"50",r:r,stroke:"currentColor",strokeWidth:t,fill:"none",className:"text-gray-200"}),(0,l.jsx)("circle",{cx:"50",cy:"50",r:r,stroke:"currentColor",strokeWidth:t,fill:"none",strokeDasharray:i,strokeDashoffset:i-e/100*i,className:"transition-all duration-1000 ".concat(q(e,s)),strokeLinecap:"round"})]}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-bold ".concat("sm"===a?"text-sm":"md"===a?"text-lg":"text-xl"),children:Math.round(e)})})]})},p=(e,s,t)=>{let i=Q(s.value,s.referenceRange);return E[t],(0,l.jsx)(r.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsxs)(r.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-900",children:F[e]||e}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:s.unit})]}),(0,l.jsxs)(b.C,{className:T(s.status),children:[B(s.status),(0,l.jsx)("span",{className:"ml-1",children:U(s.status)})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:s.value.toFixed(1)}),s.referenceRange&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["Range: ",s.referenceRange.min,"-",s.referenceRange.max," ",s.referenceRange.unit]}),s.date&&(0,l.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:new Date(s.date).toLocaleDateString()})]}),(0,l.jsx)("div",{className:"ml-4",children:g(i,s.status,"md")})]}),a&&s.referenceRange&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Your value"}),(0,l.jsx)("span",{className:"font-medium",children:s.value})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Reference range"}),(0,l.jsxs)("span",{className:"font-medium",children:[s.referenceRange.min," - ",s.referenceRange.max]})]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000 ".concat(s.value<s.referenceRange.min?"bg-red-500":s.value>s.referenceRange.max?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,Math.max(0,(s.value-s.referenceRange.min)/(s.referenceRange.max-s.referenceRange.min)*100)),"%")}})})})]})]})},e)};return 0===Object.keys(s).length?(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(j,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No biomarker data available."}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your biomarker results."})]})})}):(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(j,{className:"h-5 w-5"}),"Biomarker Analysis"]}),(0,l.jsx)(r.SZ,{children:"Your biomarker values with reference ranges and health status indicators"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)(n.mQ,{value:d,onValueChange:m,children:[(0,l.jsxs)(n.dr,{className:"grid w-full grid-cols-8",children:[(0,l.jsx)(n.SP,{value:"all",children:"All"}),u.map(e=>{var s;return(0,l.jsx)(n.SP,{value:e,children:(null===(s=E[e])||void 0===s?void 0:s.name)||e},e)})]}),(0,l.jsx)(n.nU,{value:"all",className:"space-y-6",children:u.map(e=>{var s;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(s=E[e])||void 0===s?void 0:s.name)||e}),(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>h(e),children:c.has(e)?(0,l.jsx)(A.Z,{className:"h-4 w-4"}):(0,l.jsx)(I,{className:"h-4 w-4"})})]}),c.has(e)&&(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(s=>{let{id:a,data:l}=s;return p(a,l,e)})})]},e)})}),u.map(e=>(0,l.jsx)(n.nU,{value:e,className:"space-y-4",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(s=>{let{id:a,data:l}=s;return p(a,l,e)})})},e))]})})]})})}var G=a(1817);let W={metabolic:"bg-blue-100 text-blue-800 border-blue-200",cardiovascular:"bg-red-100 text-red-800 border-red-200",inflammatory:"bg-orange-100 text-orange-800 border-orange-200",organ:"bg-green-100 text-green-800 border-green-200",cbc:"bg-purple-100 text-purple-800 border-purple-200",hormonal:"bg-pink-100 text-pink-800 border-pink-200",nutritional:"bg-yellow-100 text-yellow-800 border-yellow-200"},$={low:"text-green-600 bg-green-100",moderate:"text-yellow-600 bg-yellow-100",high:"text-orange-600 bg-orange-100",critical:"text-red-600 bg-red-100"},J={low:(0,l.jsx)(p.Z,{className:"h-4 w-4"}),moderate:(0,l.jsx)(Z,{className:"h-4 w-4"}),high:(0,l.jsx)(z,{className:"h-4 w-4"}),critical:(0,l.jsx)(z,{className:"h-4 w-4"})},K={improving:"text-green-600",stable:"text-blue-600",declining:"text-red-600"},X={improving:(0,l.jsx)(j,{className:"h-4 w-4"}),stable:(0,l.jsx)(g,{className:"h-4 w-4"}),declining:(0,l.jsx)(j,{className:"h-4 w-4 transform rotate-180"})},ee=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600",es=e=>e>=80?"bg-green-500":e>=60?"bg-yellow-500":e>=40?"bg-orange-500":"bg-red-500";function ea(e){let{clusters:s,isLoading:a=!1,showDetails:n=!1}=e,[c,o]=(0,t.useState)(new Set),[d,m]=(0,t.useState)("all"),h=e=>{let s=new Set(c);s.has(e)?s.delete(e):s.add(e),o(s)},x="all"===d?s:s.filter(e=>e.severity===d),u=s.reduce((e,s)=>(e[s.severity]=(e[s.severity]||0)+1,e),{}),j=s.length>0?s.reduce((e,s)=>e+s.score,0)/s.length:0;return a?(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,l.jsx)(G.Z,{className:"h-8 w-8 animate-spin text-blue-500 mr-3"}),(0,l.jsx)("span",{className:"text-gray-600",children:"Loading health clusters..."})]})})}):0===s.length?(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(g,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No health clusters available."}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your health cluster analysis."})]})})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.length}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Health Clusters"})]})})}),(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold ".concat(ee(j)),children:Math.round(j)}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Average Score"})]})})}),(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:u.critical||0}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]})})}),(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:u.high||0}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"High Priority"})]})})})]}),(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter by severity:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(i.z,{variant:"all"===d?"default":"outline",size:"sm",onClick:()=>m("all"),children:["All (",s.length,")"]}),(0,l.jsxs)(i.z,{variant:"critical"===d?"default":"outline",size:"sm",onClick:()=>m("critical"),className:"text-red-600 border-red-200 hover:bg-red-50",children:["Critical (",u.critical||0,")"]}),(0,l.jsxs)(i.z,{variant:"high"===d?"default":"outline",size:"sm",onClick:()=>m("high"),className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:["High (",u.high||0,")"]}),(0,l.jsxs)(i.z,{variant:"moderate"===d?"default":"outline",size:"sm",onClick:()=>m("moderate"),className:"text-yellow-600 border-yellow-200 hover:bg-yellow-50",children:["Moderate (",u.moderate||0,")"]})]})]})})}),(0,l.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,l.jsx)(r.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsxs)(r.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,l.jsxs)(b.C,{className:$[e.severity],children:[J[e.severity],(0,l.jsx)("span",{className:"ml-1 capitalize",children:e.severity})]}),e.trend&&(0,l.jsxs)(b.C,{variant:"outline",className:K[e.trend],children:[X[e.trend],(0,l.jsx)("span",{className:"ml-1 capitalize",children:e.trend})]})]}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Score:"}),(0,l.jsxs)("span",{className:"font-semibold ".concat(ee(e.score)),children:[Math.round(e.score),"/100"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,l.jsxs)("span",{className:"font-semibold text-blue-600",children:[Math.round(100*e.confidence),"%"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Biomarkers:"}),(0,l.jsx)("span",{className:"font-semibold text-gray-700",children:e.biomarkers.length})]})]})]}),(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>h(e.id),children:c.has(e.id)?(0,l.jsx)(A.Z,{className:"h-4 w-4"}):(0,l.jsx)(I,{className:"h-4 w-4"})})]}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000 ".concat(es(e.score)),style:{width:"".concat(e.score,"%")}})})}),c.has(e.id)&&(0,l.jsxs)("div",{className:"border-t border-gray-100 pt-4 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Biomarkers Analyzed"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.biomarkers.map(e=>(0,l.jsx)(b.C,{variant:"outline",className:"text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),e.recommendations&&e.recommendations.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recommendations"}),(0,l.jsx)("ul",{className:"space-y-1",children:e.recommendations.map((e,s)=>(0,l.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[(0,l.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,l.jsx)("span",{children:e})]},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Category"}),(0,l.jsx)(b.C,{className:W[e.category]||"bg-gray-100 text-gray-800",children:e.category.replace(/([A-Z])/g," $1").trim()})]})]})]})},e.id))}),0===x.length&&"all"!==d&&(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No clusters found for the selected severity level."}),(0,l.jsx)(i.z,{variant:"outline",onClick:()=>m("all"),className:"mt-2",children:"Show All Clusters"})]})})})]})}var el=a(9376);function et(){var e,s;let{currentAnalysis:a,isLoading:c,error:v,retryAnalysis:N,clearAnalysis:b}=(0,y._)(),{clusters:w,isLoading:k,loadClusters:C}=f(),[_,S]=(0,t.useState)("overview"),[A,I]=(0,t.useState)(!1),P=(0,el.useRouter)();(0,t.useEffect)(()=>{if(!a&&!c){P.push("/upload");return}!a||w.length||k||C(a.analysis_id)},[a,c,w.length,k,C,P]);let Z=()=>{b(),P.push("/upload")},z=()=>{if(!a)return;let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a,null,2)),s="healthiq-analysis-".concat(new Date().toISOString().split("T")[0],".json"),l=document.createElement("a");l.setAttribute("href",e),l.setAttribute("download",s),l.click()};if(c)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsx)(r.Zb,{className:"w-full max-w-md",children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(o,{className:"h-16 w-16 text-blue-500 mx-auto mb-4 animate-spin"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyzing Your Data"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Our AI is processing your biomarker data and generating personalized insights. This may take a few moments."}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})})});if(v)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsx)(r.Zb,{className:"w-full max-w-md",children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(d.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analysis Failed"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:(null==v?void 0:v.message)||"An unknown error occurred"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(i.z,{onClick:()=>{a&&N()},className:"w-full",children:[(0,l.jsx)(o,{className:"h-4 w-4 mr-2"}),"Try Again"]}),(0,l.jsx)(i.z,{onClick:Z,variant:"outline",className:"w-full",children:"Start New Analysis"})]})]})})})});if(!a)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsx)(r.Zb,{className:"w-full max-w-md",children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(d.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Analysis Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Please complete an analysis first."}),(0,l.jsx)(i.z,{onClick:Z,className:"w-full",children:"Start New Analysis"})]})})})});let{results:M,created_at:H,completed_at:R}=a,O=(null==M?void 0:M.insights)||[],L={analysisId:a.analysis_id,completedAt:R,biomarkerCount:(null==M?void 0:null===(e=M.biomarkers)||void 0===e?void 0:e.length)||0,confidence:.85};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 max-w-7xl",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Your Health Analysis Results"}),(0,l.jsx)("p",{className:"text-lg text-gray-600",children:"AI-powered insights from your biomarker data"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>I(!A),children:[A?(0,l.jsx)(m,{className:"h-4 w-4 mr-2"}):(0,l.jsx)(h,{className:"h-4 w-4 mr-2"}),A?"Hide Details":"Show Details"]}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:z,children:[(0,l.jsx)(x,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{navigator.share&&a?navigator.share({title:"HealthIQ Analysis Results",text:"Check out my health analysis results from HealthIQ AI",url:window.location.href}):navigator.clipboard.writeText(window.location.href)},children:[(0,l.jsx)(u,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),(0,l.jsx)(r.Zb,{className:"mb-6",children:(0,l.jsx)(r.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Analysis ID:"}),(0,l.jsx)("p",{className:"font-mono text-xs",children:(null==L?void 0:L.analysisId)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Completed:"}),(0,l.jsx)("p",{children:(null==L?void 0:L.completedAt)?new Date(L.completedAt).toLocaleString():"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Biomarkers:"}),(0,l.jsxs)("p",{children:[(null==L?void 0:L.biomarkerCount)||0," analyzed"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,l.jsx)("p",{children:(null==L?void 0:L.confidence)?"".concat(Math.round(100*L.confidence),"%"):"N/A"})]})]})})})]}),(0,l.jsxs)(n.mQ,{value:_,onValueChange:S,className:"w-full",children:[(0,l.jsxs)(n.dr,{className:"grid w-full grid-cols-4 mb-8",children:[(0,l.jsxs)(n.SP,{value:"overview",className:"flex items-center gap-2",children:[(0,l.jsx)(g,{className:"h-4 w-4"}),"Overview"]}),(0,l.jsxs)(n.SP,{value:"biomarkers",className:"flex items-center gap-2",children:[(0,l.jsx)(j,{className:"h-4 w-4"}),"Biomarkers"]}),(0,l.jsxs)(n.SP,{value:"clusters",className:"flex items-center gap-2",children:[(0,l.jsx)(g,{className:"h-4 w-4"}),"Health Clusters"]}),(0,l.jsxs)(n.SP,{value:"insights",className:"flex items-center gap-2",children:[(0,l.jsx)(j,{className:"h-4 w-4"}),"AI Insights"]})]}),(0,l.jsxs)(n.nU,{value:"overview",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(r.Zb,{children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-5 w-5 text-green-500"}),"Overall Health Score"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl font-bold text-green-600 mb-2",children:(null==M?void 0:M.overall_score)?Math.round(M.overall_score):"N/A"}),(0,l.jsx)("p",{className:"text-gray-600",children:"out of 100"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,l.jsx)("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-1000",style:{width:"".concat((null==M?void 0:M.overall_score)||0,"%")}})})})]})})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsx)(r.Ol,{children:(0,l.jsx)(r.ll,{children:"Key Health Metrics"})}),(0,l.jsx)(r.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:(null==M?void 0:M.risk_assessment)&&Object.entries(M.risk_assessment).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"capitalize text-sm font-medium",children:s.replace(/([A-Z])/g," $1").trim()}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(a,"%")}})}),(0,l.jsx)("span",{className:"text-sm font-semibold w-8",children:Math.round(a)})]})]},s)})})})]})]}),O&&O.length>0&&(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsx)(r.ll,{children:"Quick Insights"}),(0,l.jsx)(r.SZ,{children:"Key findings from your analysis"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.slice(0,6).map((e,s)=>{var a;return(0,l.jsx)("div",{className:"p-4 border rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat("critical"===e.severity?"bg-red-500":"warning"===e.severity?"bg-yellow-500":"bg-blue-500")}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:null===(a=e.category)||void 0===a?void 0:a.replace(/([A-Z])/g," $1").trim()}),(0,l.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.summary})]})]})},s)})})})]})]}),(0,l.jsx)(n.nU,{value:"biomarkers",className:"space-y-6",children:(0,l.jsx)(V,{biomarkers:(null==M?void 0:null===(s=M.biomarkers)||void 0===s?void 0:s.reduce((e,s)=>(e[s.biomarker_name]={value:s.value,unit:s.unit,status:s.status,referenceRange:s.reference_range?{min:s.reference_range.min,max:s.reference_range.max,unit:s.reference_range.unit}:void 0,date:H},e),{}))||{},showDetails:A})}),(0,l.jsx)(n.nU,{value:"clusters",className:"space-y-6",children:(0,l.jsx)(ea,{clusters:w.map(e=>({id:e.id,name:e.name,category:e.category,score:e.score,confidence:.85,biomarkers:e.biomarkers,description:e.description,recommendations:e.recommendations,severity:"low"===e.risk_level?"low":"medium"===e.risk_level?"moderate":"high"===e.risk_level?"high":"critical",trend:"stable"})),isLoading:k,showDetails:A})}),(0,l.jsx)(n.nU,{value:"insights",className:"space-y-6",children:O&&O.length>0?(0,l.jsx)(Y,{insights:O}):(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(j,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No insights available yet."}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:"Complete your analysis to generate personalized insights."})]})})})})]}),(0,l.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[(0,l.jsx)(i.z,{onClick:Z,variant:"outline",children:"Start New Analysis"}),(0,l.jsxs)(i.z,{onClick:z,children:[(0,l.jsx)(x,{className:"h-4 w-4 mr-2"}),"Export Results"]})]})]})})}},9376:function(e,s,a){"use strict";var l=a(5475);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})}},function(e){e.O(0,[543,116,971,117,744],function(){return e(e.s=9819)}),_N_E=e.O()}]);