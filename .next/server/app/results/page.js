(()=>{var e={};e.id=87,e.ids=[87],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},580:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),a(7182),a(4752),a(6083),a(9644),a(6560);var t=a(3191),l=a(8716),r=a(7922),i=a.n(r),n=a(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let o=["",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7182)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\results\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4752)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,6083)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,9644)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,6560)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\not-found.tsx"]}],d=["C:\\Users\\abroa\\HealthIQ-AI-v5\\app\\results\\page.tsx"],m="/results/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/results/page",pathname:"/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3669:(e,s,a)=>{Promise.resolve().then(a.bind(a,301))},301:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>er});var t=a(326),l=a(7577),r=a.n(l),i=a(3431),n=a(2610),c=a(5009),o=a(2881);let d=(0,o.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=a(1291);let x=(0,o.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),h=(0,o.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),u=(0,o.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),p=(0,o.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,o.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var y=a(361),v=a(1417),N=a(551),f=a(5251);let b=(0,N.Ue)()((0,f.mW)((e,s)=>({clusters:[],selectedCluster:null,clusterInsights:[],isLoading:!1,error:null,filters:{},sort:{field:"score",direction:"desc"},searchQuery:"",currentPage:1,itemsPerPage:10,totalItems:0,pagination:{page:1,perPage:10,total:0},setClusters:s=>e({clusters:s,totalItems:s.length,pagination:{page:1,perPage:10,total:s.length}}),setSelectedCluster:s=>e({selectedCluster:s}),setClusterInsights:s=>e({clusterInsights:s}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),setFilters:s=>e(e=>{let a={...e.filters,...s};return(s.status&&(a.risk_level=[s.status]),s.search)?{filters:a,searchQuery:s.search,currentPage:1}:{filters:a,currentPage:1}}),clearFilters:()=>e({filters:{},currentPage:1}),setSort:s=>e({sort:s,currentPage:1}),setSearchQuery:s=>e({searchQuery:s,currentPage:1}),setCurrentPage:s=>e({currentPage:s}),setItemsPerPage:s=>e({itemsPerPage:s,currentPage:1}),setPagination:s=>e({currentPage:s.page,itemsPerPage:s.perPage,totalItems:s.total}),loadClusters:async s=>{e({isLoading:!0,error:null});try{let s=[{id:"cluster-1",name:"Metabolic Health",description:"Metabolic health cluster",biomarkers:["glucose","insulin"],score:85,risk_level:"low",category:"metabolic",insights:["Normal glucose metabolism"],recommendations:["Maintain current lifestyle"],created_at:new Date().toISOString(),status:"normal"},{id:"cluster-2",name:"Cardiovascular",description:"Cardiovascular health cluster",biomarkers:["cholesterol","triglycerides"],score:75,risk_level:"medium",category:"cardiovascular",insights:["Elevated cholesterol levels"],recommendations:["Consider lifestyle modifications"],created_at:new Date().toISOString(),status:"warning"},{id:"cluster-3",name:"Inflammation",description:"Inflammation markers",biomarkers:["crp","esr"],score:45,risk_level:"high",category:"inflammation",insights:["High inflammation detected"],recommendations:["Consult healthcare provider"],created_at:new Date().toISOString(),status:"critical"}];e({clusters:s,totalItems:s.length,pagination:{page:1,perPage:10,total:s.length},isLoading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load clusters",isLoading:!1})}},selectClusterById:a=>{e({selectedCluster:s().clusters.find(e=>e.id===a)||null})},selectCluster:(a,t)=>{e({selectedCluster:s().clusters.find(e=>e.id===a)||null,clusterInsights:t})},getClusterInsights:e=>s().clusterInsights.filter(s=>s.cluster_id===e),getFilteredClusters:()=>{let e=s(),a=[...e.clusters];if(e.searchQuery){let s=e.searchQuery.toLowerCase();a=a.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.biomarkers.some(e=>e.toLowerCase().includes(s)))}if(e.filters.risk_level?.length&&(a=a.filter(s=>e.filters.risk_level.includes(s.risk_level))),e.filters.status&&(a=a.filter(s=>s.status===e.filters.status)),e.filters.category?.length&&(a=a.filter(s=>e.filters.category.includes(s.category))),e.filters.score_range){let[s,t]=e.filters.score_range;a=a.filter(e=>e.score>=s&&e.score<=t)}return e.filters.biomarkers?.length&&(a=a.filter(s=>e.filters.biomarkers.some(e=>s.biomarkers.includes(e)))),a.sort((s,a)=>{let{field:t,direction:l}=e.sort,r=s[t],i=a[t];if("risk_level"===t){let e={critical:4,high:3,medium:2,low:1};r=e[s.risk_level],i=e[a.risk_level]}return("string"==typeof r&&(r=r.toLowerCase(),i=i.toLowerCase()),"asc"===l)?r>i?1:-1:r<i?1:-1}),a},getPaginatedClusters:()=>{let e=s(),a=s().getFilteredClusters(),t=(e.currentPage-1)*e.itemsPerPage,l=t+e.itemsPerPage;return a.slice(t,l)},getSortedClusters:()=>s().getFilteredClusters(),getClusterById:e=>s().clusters.find(s=>s.id===e),getClustersByRiskLevel:e=>s().clusters.filter(s=>s.risk_level===e),getClustersByCategory:e=>s().clusters.filter(s=>s.category===e),getHighRiskClusters:()=>s().clusters.filter(e=>"high"===e.risk_level||"critical"===e.risk_level),getClusterSummary:()=>{let e=s().clusters,a=e.filter(e=>"high"===e.risk_level||"critical"===e.risk_level),t=e.map(e=>e.score).filter(e=>"number"==typeof e),l=Array.from(new Set(e.map(e=>e.category)));return{totalClusters:e.length,highRiskClusters:a.length,averageScore:t.length>0?t.reduce((e,s)=>e+s,0)/t.length:0,categories:l}},getClusterCategories:()=>Array.from(new Set(s().clusters.map(e=>e.category))),getInsightsForCluster:e=>s().clusterInsights.filter(s=>s.cluster_id===e),getActionableInsights:()=>s().clusterInsights.filter(e=>"high"===e.severity||"critical"===e.severity),filterClusters:e=>{let a=[...s().clusters];return e.status&&(a=a.filter(s=>s.status===e.status)),e.name&&(a=a.filter(s=>s.name.toLowerCase().includes(e.name.toLowerCase()))),a},paginateClusters:(e,a)=>{let t=s(),l=(e-1)*a;return t.clusters.slice(l,l+a)},updateClustersFromAnalysis:s=>{s?.clusters&&e({clusters:s.clusters}),s?.insights&&e({clusterInsights:s.insights})},clearClusters:()=>e({clusters:[],selectedCluster:null,clusterInsights:[],error:null,currentPage:1,totalItems:0,pagination:{page:1,perPage:10,total:0}})}),{name:"cluster-store"}));var w=a(2329);let k=(0,l.createContext)(void 0);function C({open:e,onOpenChange:s,children:a,className:r=""}){let[i,n]=(0,l.useState)(!1);return t.jsx(k.Provider,{value:{open:void 0!==e?e:i,onOpenChange:s||n},children:t.jsx("div",{className:r,children:a})})}function _({asChild:e=!1,children:s,className:a=""}){let i=(0,l.useContext)(k);if(!i)throw Error("CollapsibleTrigger must be used within a Collapsible component");let n=()=>{i.onOpenChange(!i.open)};return e&&r().isValidElement(s)?r().cloneElement(s,{onClick:n,className:`${s.props.className||""} ${a}`.trim()}):t.jsx("button",{className:`cursor-pointer ${a}`,onClick:n,children:s})}function P({children:e,className:s=""}){let a=(0,l.useContext)(k);if(!a)throw Error("CollapsibleContent must be used within a Collapsible component");return a.open?t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s}`,children:e}):null}let S=(0,o.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var A=a(8393);let I=(0,o.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var Z=a(370);let z=(0,o.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),H=(0,o.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M={info:{icon:z,color:"bg-blue-100 text-blue-800",borderColor:"border-blue-200",bgColor:"bg-blue-50"},warning:{icon:H,color:"bg-yellow-100 text-yellow-800",borderColor:"border-yellow-200",bgColor:"bg-yellow-50"},critical:{icon:(0,o.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),color:"bg-red-100 text-red-800",borderColor:"border-red-200",bgColor:"bg-red-50"}},R={metabolic:"bg-green-100 text-green-800",cardiovascular:"bg-red-100 text-red-800",inflammatory:"bg-orange-100 text-orange-800",organ:"bg-purple-100 text-purple-800",nutritional:"bg-blue-100 text-blue-800",hormonal:"bg-pink-100 text-pink-800"};function O({insight:e,className:s=""}){let a=M[e.severity],l=a.icon,r=R[e.category]||"bg-gray-100 text-gray-800";return(0,t.jsxs)(i.Zb,{className:`${s} ${a.borderColor} ${a.bgColor}`,children:[t.jsx(i.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(l,{className:"h-5 w-5 text-gray-600"}),t.jsx(i.ll,{className:"text-lg font-semibold text-gray-900",children:e.summary})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(w.C,{className:r,children:e.category}),t.jsx(w.C,{className:a.color,children:e.severity})]})]})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Confidence"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[Math.round(100*e.confidence),"%"]})]}),t.jsx(Z.E,{value:100*e.confidence,className:"h-2"})]}),e.biomarkers_involved.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Biomarkers Involved"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.biomarkers_involved.map(e=>t.jsx(w.C,{variant:"outline",className:"text-xs",children:e},e))})]}),e.lifestyle_factors.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Lifestyle Factors"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.lifestyle_factors.map(e=>t.jsx(w.C,{variant:"secondary",className:"text-xs",children:e},e))})]}),e.recommendations.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recommendations"}),t.jsx("ul",{className:"space-y-1",children:e.recommendations.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx(y.Z,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:e})]},s))})]}),e.evidence&&Object.keys(e.evidence).length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Evidence Summary"}),t.jsx("div",{className:"text-sm text-gray-600 bg-white p-3 rounded-md border",children:t.jsx("pre",{className:"whitespace-pre-wrap text-xs",children:JSON.stringify(e.evidence,null,2)})})]}),t.jsx("div",{className:"pt-2 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Generated on ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),(0,t.jsxs)("span",{children:["ID: ",e.id]})]})})]})]})}let L={metabolic:"Metabolic Health",cardiovascular:"Cardiovascular Health",inflammatory:"Inflammatory Health",organ:"Organ Health",nutritional:"Nutritional Health",hormonal:"Hormonal Health"},Y={critical:3,warning:2,info:1};function $({insights:e,className:s=""}){let[a,r]=(0,l.useState)("all"),[o,d]=(0,l.useState)("all"),[m,x]=(0,l.useState)(new Set),h=e.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});Object.keys(h).forEach(e=>{h[e].sort((e,s)=>{let a=Y[s.severity]-Y[e.severity];return 0!==a?a:s.confidence-e.confidence})}),e.filter(e=>{let s="all"===a||e.category===a,t="all"===o||e.severity===o;return s&&t});let g=Array.from(new Set(e.map(e=>e.category))),u=Array.from(new Set(e.map(e=>e.severity))),y=e.length,v=e.filter(e=>"critical"===e.severity).length,N=e.filter(e=>"warning"===e.severity).length,f=e.reduce((e,s)=>e+s.confidence,0)/y||0,b=e=>{let s=new Set(m);s.has(e)?s.delete(e):s.add(e),x(s)};return 0===y?(0,t.jsxs)(i.Zb,{className:s,children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-5 w-5"}),"Health Insights"]})}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(j,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"No insights available yet."}),t.jsx("p",{className:"text-sm",children:"Complete your biomarker analysis to generate personalized health insights."})]})})]}):(0,t.jsxs)(i.Zb,{className:s,children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-5 w-5"}),"Health Insights"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(w.C,{variant:"outline",className:"text-sm",children:[y," insights"]}),v>0&&(0,t.jsxs)(w.C,{variant:"destructive",className:"text-sm",children:[v," critical"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Insights"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:v+N}),t.jsx("div",{className:"text-sm text-gray-500",children:"Need Attention"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(100*f),"%"]}),t.jsx("div",{className:"text-sm text-gray-500",children:"Avg Confidence"})]})]})]}),(0,t.jsxs)(i.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(S,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[t.jsx("option",{value:"all",children:"All Categories"}),g.map(e=>t.jsx("option",{value:e,children:L[e]||e},e))]}),(0,t.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[t.jsx("option",{value:"all",children:"All Severities"}),u.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),("all"!==a||"all"!==o)&&t.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>{r("all"),d("all")},className:"text-xs",children:"Clear Filters"})]}),(0,t.jsxs)(c.mQ,{value:a,onValueChange:r,children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-7",children:[t.jsx(c.SP,{value:"all",className:"text-xs",children:"All"}),g.map(e=>t.jsx(c.SP,{value:e,className:"text-xs",children:L[e]||e},e))]}),t.jsx(c.nU,{value:"all",className:"space-y-4",children:Object.entries(h).map(([e,s])=>(0,t.jsxs)(C,{open:m.has(e),onOpenChange:()=>b(e),children:[t.jsx(_,{asChild:!0,children:t.jsx(n.z,{variant:"ghost",className:"w-full justify-between p-4 h-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[m.has(e)?t.jsx(A.Z,{className:"h-4 w-4"}):t.jsx(I,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:L[e]||e}),t.jsx(w.C,{variant:"outline",className:"text-xs",children:s.length})]})})}),t.jsx(P,{className:"space-y-4 pl-6",children:s.map(e=>t.jsx(O,{insight:e},e.id))})]},e))}),g.map(e=>t.jsx(c.nU,{value:e,className:"space-y-4",children:h[e]?.map(e=>t.jsx(O,{insight:e},e.id))},e))]})]})]})}let D=(0,o.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),U={metabolic:{name:"Metabolic Health",biomarkers:["glucose","hba1c","insulin","c_peptide"],color:"blue"},cardiovascular:{name:"Cardiovascular Health",biomarkers:["total_cholesterol","ldl_cholesterol","hdl_cholesterol","triglycerides","apolipoprotein_b","apolipoprotein_a1"],color:"red"},inflammatory:{name:"Inflammatory Health",biomarkers:["crp","esr","il_6","tnf_alpha"],color:"orange"},organ:{name:"Organ Function",biomarkers:["creatinine","bun","alt","ast","ggt","alkaline_phosphatase"],color:"green"},cbc:{name:"Complete Blood Count",biomarkers:["hemoglobin","hematocrit","wbc","rbc","platelets"],color:"purple"},hormonal:{name:"Hormonal Health",biomarkers:["tsh","free_t4","free_t3","cortisol","testosterone"],color:"pink"},nutritional:{name:"Nutritional Status",biomarkers:["vitamin_d","vitamin_b12","folate","iron","ferritin"],color:"yellow"}},E={glucose:"Glucose",hba1c:"HbA1c",insulin:"Insulin",c_peptide:"C-Peptide",total_cholesterol:"Total Cholesterol",ldl_cholesterol:"LDL Cholesterol",hdl_cholesterol:"HDL Cholesterol",triglycerides:"Triglycerides",apolipoprotein_b:"Apolipoprotein B",apolipoprotein_a1:"Apolipoprotein A1",crp:"C-Reactive Protein",esr:"Erythrocyte Sedimentation Rate",il_6:"Interleukin-6",tnf_alpha:"TNF-α",creatinine:"Creatinine",bun:"Blood Urea Nitrogen",alt:"ALT",ast:"AST",ggt:"GGT",alkaline_phosphatase:"Alkaline Phosphatase",hemoglobin:"Hemoglobin",hematocrit:"Hematocrit",wbc:"White Blood Cell Count",rbc:"Red Blood Cell Count",platelets:"Platelet Count",tsh:"TSH",free_t4:"Free T4",free_t3:"Free T3",cortisol:"Cortisol",testosterone:"Testosterone",vitamin_d:"Vitamin D",vitamin_b12:"Vitamin B12",folate:"Folate",iron:"Iron",ferritin:"Ferritin"},F=e=>{switch(e){case"optimal":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"elevated":return"text-yellow-600 bg-yellow-100";case"low":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},T=e=>{switch(e){case"optimal":case"normal":return t.jsx(y.Z,{className:"h-4 w-4"});case"elevated":return t.jsx(j,{className:"h-4 w-4"});case"low":return t.jsx(D,{className:"h-4 w-4"});case"critical":return t.jsx(H,{className:"h-4 w-4"});default:return t.jsx(z,{className:"h-4 w-4"})}},Q=e=>{switch(e){case"optimal":return"Optimal";case"normal":return"Normal";case"elevated":return"Elevated";case"low":return"Low";case"critical":return"Critical";default:return"Unknown"}},B=(e,s)=>{if(!s)return 50;let a=s.max-s.min;return Math.max(0,Math.min(100,(e-s.min)/a*100))},q=(e,s)=>"critical"===s?"stroke-red-500":"elevated"===s||"low"===s?"stroke-yellow-500":"optimal"===s||"normal"===s?"stroke-green-500":e<20||e>80?"stroke-red-500":e<30||e>70?"stroke-yellow-500":"stroke-green-500";function G({biomarkers:e,showDetails:s=!1}){let[a,r]=(0,l.useState)(new Set),[o,d]=(0,l.useState)("all"),m=e=>{let s=new Set(a);s.has(e)?s.delete(e):s.add(e),r(s)},x=(()=>{let s={};return Object.entries(e).forEach(([e,a])=>{let t=Object.entries(U).find(([s,a])=>a.biomarkers.includes(e))?.[0]||"other";s[t]||(s[t]=[]),s[t].push({id:e,data:a})}),s})(),h=Object.keys(x),g=(e,s,a="md")=>{let l="sm"===a?2:"md"===a?3:4,r="sm"===a?28:"md"===a?40:"lg"===a?56:40,i=2*Math.PI*r;return(0,t.jsxs)("div",{className:`${{sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"}[a]} relative`,children:[(0,t.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:r,stroke:"currentColor",strokeWidth:l,fill:"none",className:"text-gray-200"}),t.jsx("circle",{cx:"50",cy:"50",r:r,stroke:"currentColor",strokeWidth:l,fill:"none",strokeDasharray:i,strokeDashoffset:i-e/100*i,className:`transition-all duration-1000 ${q(e,s)}`,strokeLinecap:"round"})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:`font-bold ${"sm"===a?"text-sm":"md"===a?"text-lg":"text-xl"}`,children:Math.round(e)})})]})},u=(e,a,l)=>{let r=B(a.value,a.referenceRange);return U[l],t.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,t.jsxs)(i.aY,{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:E[e]||e}),t.jsx("p",{className:"text-sm text-gray-500",children:a.unit})]}),(0,t.jsxs)(w.C,{className:F(a.status),children:[T(a.status),t.jsx("span",{className:"ml-1",children:Q(a.status)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.value.toFixed(1)}),a.referenceRange&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Range: ",a.referenceRange.min,"-",a.referenceRange.max," ",a.referenceRange.unit]}),a.date&&t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(a.date).toLocaleDateString()})]}),t.jsx("div",{className:"ml-4",children:g(r,a.status,"md")})]}),s&&a.referenceRange&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Your value"}),t.jsx("span",{className:"font-medium",children:a.value})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Reference range"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.referenceRange.min," - ",a.referenceRange.max]})]}),t.jsx("div",{className:"mt-2",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${a.value<a.referenceRange.min?"bg-red-500":a.value>a.referenceRange.max?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,Math.max(0,(a.value-a.referenceRange.min)/(a.referenceRange.max-a.referenceRange.min)*100))}%`}})})})]})]})},e)};return 0===Object.keys(e).length?t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(j,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No biomarker data available."}),t.jsx("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your biomarker results."})]})})}):t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(j,{className:"h-5 w-5"}),"Biomarker Analysis"]}),t.jsx(i.SZ,{children:"Your biomarker values with reference ranges and health status indicators"})]}),t.jsx(i.aY,{children:(0,t.jsxs)(c.mQ,{value:o,onValueChange:d,children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-8",children:[t.jsx(c.SP,{value:"all",children:"All"}),h.map(e=>t.jsx(c.SP,{value:e,children:U[e]?.name||e},e))]}),t.jsx(c.nU,{value:"all",className:"space-y-6",children:h.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U[e]?.name||e}),t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>m(e),children:a.has(e)?t.jsx(A.Z,{className:"h-4 w-4"}):t.jsx(I,{className:"h-4 w-4"})})]}),a.has(e)&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(({id:s,data:a})=>u(s,a,e))})]},e))}),h.map(e=>t.jsx(c.nU,{value:e,className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(({id:s,data:a})=>u(s,a,e))})},e))]})})]})})}var V=a(7506);let W={metabolic:"bg-blue-100 text-blue-800 border-blue-200",cardiovascular:"bg-red-100 text-red-800 border-red-200",inflammatory:"bg-orange-100 text-orange-800 border-orange-200",organ:"bg-green-100 text-green-800 border-green-200",cbc:"bg-purple-100 text-purple-800 border-purple-200",hormonal:"bg-pink-100 text-pink-800 border-pink-200",nutritional:"bg-yellow-100 text-yellow-800 border-yellow-200"},J={low:"text-green-600 bg-green-100",moderate:"text-yellow-600 bg-yellow-100",high:"text-orange-600 bg-orange-100",critical:"text-red-600 bg-red-100"},K={low:t.jsx(y.Z,{className:"h-4 w-4"}),moderate:t.jsx(z,{className:"h-4 w-4"}),high:t.jsx(H,{className:"h-4 w-4"}),critical:t.jsx(H,{className:"h-4 w-4"})},X={improving:"text-green-600",stable:"text-blue-600",declining:"text-red-600"},ee={improving:t.jsx(j,{className:"h-4 w-4"}),stable:t.jsx(p,{className:"h-4 w-4"}),declining:t.jsx(j,{className:"h-4 w-4 transform rotate-180"})},es=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600",ea=e=>e>=80?"bg-green-500":e>=60?"bg-yellow-500":e>=40?"bg-orange-500":"bg-red-500";function et({clusters:e,isLoading:s=!1,showDetails:a=!1}){let[r,c]=(0,l.useState)(new Set),[o,d]=(0,l.useState)("all"),m=e=>{let s=new Set(r);s.has(e)?s.delete(e):s.add(e),c(s)},x="all"===o?e:e.filter(e=>e.severity===o),h=e.reduce((e,s)=>(e[s.severity]=(e[s.severity]||0)+1,e),{}),g=e.length>0?e.reduce((e,s)=>e+s.score,0)/e.length:0;return s?t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[t.jsx(V.Z,{className:"h-8 w-8 animate-spin text-blue-500 mr-3"}),t.jsx("span",{className:"text-gray-600",children:"Loading health clusters..."})]})})}):0===e.length?t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(p,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No health clusters available."}),t.jsx("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your health cluster analysis."})]})})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),t.jsx("div",{className:"text-sm text-gray-500",children:"Health Clusters"})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:`text-2xl font-bold ${es(g)}`,children:Math.round(g)}),t.jsx("div",{className:"text-sm text-gray-500",children:"Average Score"})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.critical||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.high||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"High Priority"})]})})})]}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by severity:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.z,{variant:"all"===o?"default":"outline",size:"sm",onClick:()=>d("all"),children:["All (",e.length,")"]}),(0,t.jsxs)(n.z,{variant:"critical"===o?"default":"outline",size:"sm",onClick:()=>d("critical"),className:"text-red-600 border-red-200 hover:bg-red-50",children:["Critical (",h.critical||0,")"]}),(0,t.jsxs)(n.z,{variant:"high"===o?"default":"outline",size:"sm",onClick:()=>d("high"),className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:["High (",h.high||0,")"]}),(0,t.jsxs)(n.z,{variant:"moderate"===o?"default":"outline",size:"sm",onClick:()=>d("moderate"),className:"text-yellow-600 border-yellow-200 hover:bg-yellow-50",children:["Moderate (",h.moderate||0,")"]})]})]})})}),t.jsx("div",{className:"space-y-4",children:x.map(e=>t.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,t.jsxs)(i.aY,{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,t.jsxs)(w.C,{className:J[e.severity],children:[K[e.severity],t.jsx("span",{className:"ml-1 capitalize",children:e.severity})]}),e.trend&&(0,t.jsxs)(w.C,{variant:"outline",className:X[e.trend],children:[ee[e.trend],t.jsx("span",{className:"ml-1 capitalize",children:e.trend})]})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500",children:"Score:"}),(0,t.jsxs)("span",{className:`font-semibold ${es(e.score)}`,children:[Math.round(e.score),"/100"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500",children:"Confidence:"}),(0,t.jsxs)("span",{className:"font-semibold text-blue-600",children:[Math.round(100*e.confidence),"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500",children:"Biomarkers:"}),t.jsx("span",{className:"font-semibold text-gray-700",children:e.biomarkers.length})]})]})]}),t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:r.has(e.id)?t.jsx(A.Z,{className:"h-4 w-4"}):t.jsx(I,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${ea(e.score)}`,style:{width:`${e.score}%`}})})}),r.has(e.id)&&(0,t.jsxs)("div",{className:"border-t border-gray-100 pt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Biomarkers Analyzed"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.biomarkers.map(e=>t.jsx(w.C,{variant:"outline",className:"text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),e.recommendations&&e.recommendations.length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recommendations"}),t.jsx("ul",{className:"space-y-1",children:e.recommendations.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),t.jsx("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Category"}),t.jsx(w.C,{className:W[e.category]||"bg-gray-100 text-gray-800",children:e.category.replace(/([A-Z])/g," $1").trim()})]})]})]})},e.id))}),0===x.length&&"all"!==o&&t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No clusters found for the selected severity level."}),t.jsx(n.z,{variant:"outline",onClick:()=>d("all"),className:"mt-2",children:"Show All Clusters"})]})})})]})}var el=a(5047);function er(){let{currentAnalysis:e,isLoading:s,error:a,retryAnalysis:r,clearAnalysis:o,setCurrentAnalysis:N}=(0,v._)(),{clusters:f,isLoading:w,loadClusters:k}=b(),[C,_]=(0,l.useState)("overview"),[P,S]=(0,l.useState)(!1),A=(0,el.useRouter)();(0,el.useSearchParams)().get("analysis_id");let I=()=>{o(),A.push("/upload")},Z=()=>{if(!e)return;let s="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),a=`healthiq-analysis-${new Date().toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download",a),t.click()};if(s)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx(i.Zb,{className:"w-full max-w-md",children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(d,{className:"h-16 w-16 text-blue-500 mx-auto mb-4 animate-spin"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyzing Your Data"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Our AI is processing your biomarker data and generating personalized insights. This may take a few moments."}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})})});if(a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx(i.Zb,{className:"w-full max-w-md",children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(m.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analysis Failed"}),t.jsx("p",{className:"text-gray-600 mb-4",children:a?.message||"An unknown error occurred"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.z,{onClick:()=>{e&&r()},className:"w-full",children:[t.jsx(d,{className:"h-4 w-4 mr-2"}),"Try Again"]}),t.jsx(n.z,{onClick:I,variant:"outline",className:"w-full",children:"Start New Analysis"})]})]})})})});if(!e)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx(i.Zb,{className:"w-full max-w-md",children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(m.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Analysis Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete an analysis first."}),t.jsx(n.z,{onClick:I,className:"w-full",children:"Start New Analysis"})]})})})});let{results:z,created_at:H,completed_at:M}=e,R=z?.insights||[],O={analysisId:e.analysis_id,completedAt:M,biomarkerCount:z?.biomarkers?.length||0,confidence:.85};return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Your Health Analysis Results"}),t.jsx("p",{className:"text-lg text-gray-600",children:"AI-powered insights from your biomarker data"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>S(!P),children:[P?t.jsx(x,{className:"h-4 w-4 mr-2"}):t.jsx(h,{className:"h-4 w-4 mr-2"}),P?"Hide Details":"Show Details"]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:Z,children:[t.jsx(g,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{navigator.share&&e?navigator.share({title:"HealthIQ Analysis Results",text:"Check out my health analysis results from HealthIQ AI",url:window.location.href}):navigator.clipboard.writeText(window.location.href)},children:[t.jsx(u,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),t.jsx(i.Zb,{className:"mb-6",children:t.jsx(i.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Analysis ID:"}),t.jsx("p",{className:"font-mono text-xs",children:O?.analysisId||"N/A"})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Completed:"}),t.jsx("p",{children:O?.completedAt?new Date(O.completedAt).toLocaleString():"N/A"})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Biomarkers:"}),(0,t.jsxs)("p",{children:[O?.biomarkerCount||0," analyzed"]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Confidence:"}),t.jsx("p",{children:O?.confidence?`${Math.round(100*O.confidence)}%`:"N/A"})]})]})})})]}),(0,t.jsxs)(c.mQ,{value:C,onValueChange:_,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4 mb-8",children:[(0,t.jsxs)(c.SP,{value:"overview",className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-4 w-4"}),"Overview"]}),(0,t.jsxs)(c.SP,{value:"biomarkers",className:"flex items-center gap-2",children:[t.jsx(j,{className:"h-4 w-4"}),"Biomarkers"]}),(0,t.jsxs)(c.SP,{value:"clusters",className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-4 w-4"}),"Health Clusters"]}),(0,t.jsxs)(c.SP,{value:"insights",className:"flex items-center gap-2",children:[t.jsx(j,{className:"h-4 w-4"}),"AI Insights"]})]}),(0,t.jsxs)(c.nU,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(y.Z,{className:"h-5 w-5 text-green-500"}),"Overall Health Score"]})}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl font-bold text-green-600 mb-2",children:z?.overall_score?Math.round(z.overall_score):"N/A"}),t.jsx("p",{className:"text-gray-600",children:"out of 100"}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-1000",style:{width:`${z?.overall_score||0}%`}})})})]})})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{children:"Key Health Metrics"})}),t.jsx(i.aY,{children:t.jsx("div",{className:"space-y-4",children:z?.risk_assessment&&Object.entries(z.risk_assessment).map(([e,s])=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"capitalize text-sm font-medium",children:e.replace(/([A-Z])/g," $1").trim()}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s}%`}})}),t.jsx("span",{className:"text-sm font-semibold w-8",children:Math.round(s)})]})]},e))})})]})]}),R&&R.length>0&&(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Quick Insights"}),t.jsx(i.SZ,{children:"Key findings from your analysis"})]}),t.jsx(i.aY,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.slice(0,6).map((e,s)=>t.jsx("div",{className:"p-4 border rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${"critical"===e.severity?"bg-red-500":"warning"===e.severity?"bg-yellow-500":"bg-blue-500"}`}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:e.category?.replace(/([A-Z])/g," $1").trim()}),t.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.summary})]})]})},s))})})]})]}),t.jsx(c.nU,{value:"biomarkers",className:"space-y-6",children:t.jsx(G,{biomarkers:z?.biomarkers?.reduce((e,s)=>(e[s.biomarker_name]={value:s.value,unit:s.unit,status:s.status,referenceRange:s.reference_range?{min:s.reference_range.min,max:s.reference_range.max,unit:s.reference_range.unit}:void 0,date:H},e),{})||{},showDetails:P})}),t.jsx(c.nU,{value:"clusters",className:"space-y-6",children:t.jsx(et,{clusters:f.map(e=>({id:e.id,name:e.name,category:e.category,score:e.score,confidence:.85,biomarkers:e.biomarkers,description:e.description,recommendations:e.recommendations,severity:"low"===e.risk_level?"low":"medium"===e.risk_level?"moderate":"high"===e.risk_level?"high":"critical",trend:"stable"})),isLoading:w,showDetails:P})}),t.jsx(c.nU,{value:"insights",className:"space-y-6",children:R&&R.length>0?t.jsx($,{insights:R}):t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(j,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No insights available yet."}),t.jsx("p",{className:"text-sm text-gray-400",children:"Complete your analysis to generate personalized insights."})]})})})})]}),(0,t.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[t.jsx(n.z,{onClick:I,variant:"outline",children:"Start New Analysis"}),(0,t.jsxs)(n.z,{onClick:Z,children:[t.jsx(g,{className:"h-4 w-4 mr-2"}),"Export Results"]})]})]})})}},5047:(e,s,a)=>{"use strict";var t=a(7389);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},7182:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\abroa\HealthIQ-AI-v5\app\results\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[124,712,349],()=>a(580));module.exports=t})();