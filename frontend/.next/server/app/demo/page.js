(()=>{var e={};e.id=298,e.ids=[298],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4338:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(9786),r(4752),r(6083),r(9644),r(6560);var s=r(3191),a=r(8716),o=r(7922),i=r.n(o),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["demo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9786)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\demo\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,6083)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,9644)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,6560)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\not-found.tsx"]}],c=["C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\demo\\page.tsx"],u="/demo/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/demo/page",pathname:"/demo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4151:(e,t,r)=>{Promise.resolve().then(r.bind(r,8748)),Promise.resolve().then(r.bind(r,1621))},8748:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(326),a=r(7577),o=r.n(a);let i="http://localhost:8000";async function n(){return(await fetch(`${i}/api/health`,{credentials:"omit"})).json()}async function l(e){let t=`${i}/api/analysis/result?analysis_id=${encodeURIComponent(e)}`,r=await fetch(t);if(!r.ok)throw Error(`getAnalysisResult failed: ${r.status}`);return r.json()}var d=r(1417),c=r(5830),u=r(551),p=r(5251);let m={theme:"system",language:"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,dateFormat:"MM/DD/YYYY",timeFormat:"12h",notifications:{email:!0,push:!0,analysis:!0,alerts:!0},accessibility:{highContrast:!1,reducedMotion:!1,fontSize:"medium"}},h=(0,u.Ue)()((0,p.mW)((0,p.tJ)((e,t)=>({layout:{sidebarOpen:!1,headerHeight:64,footerHeight:48},sidebarOpen:!1,sidebarCollapsed:!1,headerHeight:64,footerHeight:48,theme:"dark",systemTheme:"light",actualTheme:"dark",viewport:{width:1024,height:768,isMobile:!1,isTablet:!1,isDesktop:!0},preferences:m,notifications:[],unreadCount:0,modals:[],toasts:[],globalLoading:!1,loadingStates:{},loading:{},globalError:null,errorStates:{},errors:{},currentStep:1,totalSteps:1,progress:0,setSidebarOpen:t=>e(e=>({sidebarOpen:t,layout:{...e.layout,sidebarOpen:t}})),toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen,layout:{...e.layout,sidebarOpen:!e.sidebarOpen}})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),setHeaderHeight:t=>e({headerHeight:t}),setFooterHeight:t=>e({footerHeight:t}),setTheme:r=>{let s=t(),a="system"===r?s.systemTheme:r;e({theme:r,actualTheme:a})},toggleTheme:()=>{let r="light"===t().actualTheme?"dark":"light";e({theme:r,actualTheme:r})},setSystemTheme:r=>{let s=t(),a="system"===s.theme?r:s.actualTheme;e({systemTheme:r,actualTheme:a})},setViewport:t=>e({viewport:t}),updateViewport:t=>e(e=>({viewport:{...e.viewport,...t}})),setPreferences:t=>e(e=>{let r={...e.preferences,...t};return void 0!==t.theme&&delete r.theme,{preferences:r}}),resetPreferences:()=>e({preferences:m}),addNotification:t=>{let r=`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={...t,id:r,created_at:new Date().toISOString(),read:!1};e(e=>({notifications:[s,...e.notifications],unreadCount:e.unreadCount+1}))},removeNotification:t=>e(e=>{let r=e.notifications.find(e=>e.id===t),s=r&&!r.read;return{notifications:e.notifications.filter(e=>e.id!==t),unreadCount:s?e.unreadCount-1:e.unreadCount}}),markNotificationRead:t=>e(e=>{let r=e.notifications.find(e=>e.id===t);return r&&!r.read?{notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:e.unreadCount-1}:e}),markAllNotificationsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0})),clearNotifications:()=>e({notifications:[],unreadCount:0}),openModal:t=>{let r=`modal_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={...t,id:r};return e(e=>({modals:[...e.modals,s]})),r},closeModal:t=>e(e=>({modals:e.modals.filter(e=>e.id!==t)})),closeAllModals:()=>e({modals:[]}),addToast:r=>{let s=`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={...r,id:s};return e(e=>({toasts:[...e.toasts,a]})),r.duration>0&&setTimeout(()=>{t().removeToast(s)},r.duration),s},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),clearToasts:()=>e({toasts:[]}),setGlobalLoading:t=>e({globalLoading:t}),setLoading:(t,r)=>e(e=>({loadingStates:{...e.loadingStates,[t]:r},loading:{...e.loading,[t]:r}})),isLoading:e=>{let r=t();return e?r.loadingStates[e]||!1:r.globalLoading||Object.values(r.loadingStates).some(e=>e)},setGlobalError:t=>e({globalError:t}),setError:(t,r)=>e(e=>({errorStates:{...e.errorStates,[t]:r},errors:{...e.errors,[t]:r}})),clearError:t=>{t?e(e=>({errorStates:{...e.errorStates,[t]:null},errors:{...e.errors,[t]:null}})):e({globalError:null,errorStates:{},errors:{}})},clearLoading:t=>e(e=>({loadingStates:{...e.loadingStates,[t]:!1},loading:{...e.loading,[t]:!1}})),clearAllErrors:()=>e({globalError:null,errorStates:{},errors:{}}),setCurrentStep:r=>{let s=t(),a=s.totalSteps>0?r/s.totalSteps*100:0;e({currentStep:r,progress:a})},setTotalSteps:r=>{let s=t(),a=r>0?s.currentStep/r*100:0;e({totalSteps:r,progress:a})},nextStep:()=>{let e=t();e.currentStep<e.totalSteps&&t().setCurrentStep(e.currentStep+1)},prevStep:()=>{let e=t();e.currentStep>1&&t().setCurrentStep(e.currentStep-1)},resetSteps:()=>e({currentStep:1,totalSteps:1,progress:0}),updateLayout:t=>e(e=>({layout:{...e.layout,...t}})),updatePreferences:t=>e(e=>({preferences:{...e.preferences,...t}})),showToast:e=>t().addToast(e),hideToast:e=>{t().removeToast(e)},clearAllLoading:()=>e({globalLoading:!1,loadingStates:{},loading:{}}),hasError:e=>{let r=t();return!!(r.errorStates[e]||r.globalError)},getError:e=>{let r=t();return r.errorStates[e]||r.globalError},isMobile:()=>t().viewport.isMobile,isTablet:()=>t().viewport.isTablet,isDesktop:()=>t().viewport.isDesktop,getResponsiveValue:e=>{let r=t();return r.viewport.isMobile?e.mobile:r.viewport.isTablet?e.tablet:e.desktop},resetUI:()=>e({layout:{sidebarOpen:!1,headerHeight:64,footerHeight:48},sidebarOpen:!1,sidebarCollapsed:!1,headerHeight:64,footerHeight:48,theme:"dark",systemTheme:"light",actualTheme:"dark",viewport:{width:1024,height:768,isMobile:!1,isTablet:!1,isDesktop:!0},preferences:m,notifications:[],unreadCount:0,modals:[],toasts:[],globalLoading:!1,loadingStates:{},loading:{},globalError:null,errorStates:{},errors:{},currentStep:1,totalSteps:1,progress:0})}),{name:"ui-store",partialize:e=>({theme:e.theme,preferences:e.preferences,sidebarCollapsed:e.sidebarCollapsed})}),{name:"ui-store"}));function g(){let[e,t]=o().useState("idle"),[r,a]=o().useState([]),[u,p]=o().useState(null),m=o().useRef(null),g=(0,d._)(),b=(0,c.V)(),f=h();function y(e){a(t=>[new Date().toLocaleTimeString()+" — "+e,...t].slice(0,200))}async function x(){t("pinging");try{let e=await n();y("health: "+JSON.stringify(e)),t("ok")}catch(e){y("health ERROR: "+(e?.message||String(e))),t("error")}}async function S(){try{let e={biomarkers:{cholesterol:{value:4.9,unit:"mmol/L"},blood_sugar:{value:4.8,unit:"mmol/L"}},user:{age:58,sex:"male"}};y("Starting analysis with payload: "+JSON.stringify(e)),await g.startAnalysis(e),f.addToast({type:"info",title:"Analysis Started",message:"Biomarker analysis has been initiated",duration:3e3,position:"top-right"});let t=g.currentAnalysis;t&&(p(t.analysis_id),y("Analysis started with ID: "+t.analysis_id))}catch(e){y("startAnalysis ERROR: "+(e?.message||String(e))),u&&g.failAnalysis(u,{message:e?.message||String(e),code:"ANALYSIS_START_ERROR"}),f.addToast({type:"error",title:"Analysis Failed",message:"Failed to start biomarker analysis",duration:5e3,position:"top-right"})}}async function v(){if(!u){y("No analysisId yet");return}try{let e=await l(u);y("result: "+JSON.stringify(e))}catch(e){y("getAnalysisResult ERROR: "+(e?.message||String(e)))}}return(0,s.jsxs)("div",{style:{position:"fixed",right:16,bottom:16,zIndex:9999,maxWidth:500},className:"rounded-xl border p-3 shadow bg-white/90 backdrop-blur",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("strong",{children:"Dev API Probe + Store State"}),(0,s.jsxs)("span",{style:{fontSize:12,opacity:.7},children:["status: ",e]})]}),(0,s.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 rounded text-xs",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Store States:"}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Analysis:"})," ",g.currentPhase," (",g.progress,"%)"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Clusters:"})," ",b.clusters.length," loaded"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"UI:"})," ",f.toasts.length," toasts, ",f.notifications.length," notifications"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Theme:"})," ",f.actualTheme]})]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-2 flex-wrap",children:[s.jsx("button",{onClick:x,className:"px-3 py-1 rounded bg-black text-white text-xs",children:"Ping API"}),s.jsx("button",{onClick:function(){var e;m.current&&m.current.close();let t=(e="demo",new EventSource(`${i}/api/analysis/events?analysis_id=${encodeURIComponent(e)}`));m.current=t,t.onopen=()=>y("[SSE] open"),t.onerror=e=>y("[SSE] error"),t.addEventListener("analysis_status",e=>{try{let r=JSON.parse(e.data);y("[SSE] "+r.phase+" "+(r.progress?.toFixed?.(2)??"")),"complete"===r.phase&&(t.close(),y("[SSE] closed (complete)"))}catch{y("[SSE] parse error")}})},className:"px-3 py-1 rounded bg-blue-600 text-white text-xs",children:"Start SSE"}),s.jsx("button",{onClick:function(){m.current&&(m.current.close(),m.current=null,y("[SSE] closed (manual)"))},className:"px-3 py-1 rounded bg-gray-200 text-xs",children:"Stop"}),s.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-green-600 text-white text-xs",children:"Start Analysis"}),s.jsx("button",{onClick:v,className:"px-3 py-1 rounded bg-purple-600 text-white text-xs",disabled:!u,children:"Fetch Result"}),s.jsx("button",{onClick:()=>f.toggleTheme(),className:"px-3 py-1 rounded bg-indigo-600 text-white text-xs",children:"Toggle Theme"}),s.jsx("button",{onClick:()=>b.loadClusters("demo"),className:"px-3 py-1 rounded bg-orange-600 text-white text-xs",children:"Load Clusters"})]}),s.jsx("div",{style:{maxHeight:200,overflow:"auto",fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace",fontSize:12,lineHeight:1.4},children:0===r.length?s.jsx("div",{style:{opacity:.6},children:"No logs yet…"}):r.map((e,t)=>s.jsx("div",{children:e},t))}),(0,s.jsxs)("div",{style:{fontSize:11,opacity:.6,marginTop:6},children:["Using API_BASE: ",s.jsx("code",{children:"http://localhost:8000"})]})]})}},9786:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var s=r(9510),a=r(8570);(0,a.createProxy)(String.raw`C:\Users\abroa\HealthIQ-AI-v5\frontend\app\components\DevApiProbe.tsx#default`);let o=(0,a.createProxy)(String.raw`C:\Users\abroa\HealthIQ-AI-v5\frontend\app\components\insights\InsightsPanel.tsx#InsightsPanel`),i={title:"HealthIQ AI v5 - Demo & Development Tools",description:"Development tools and demo harness for HealthIQ AI v5 backend integration"};function n(){let e=[{id:"metabolic_insight_1",category:"metabolic",summary:"Your metabolic cluster suggests insulin resistance risk, amplified by reported low activity levels.",evidence:{biomarkers:["glucose","hba1c","insulin"],scores:{glucose:.75,hba1c:.68,insulin:.82},lifestyle_factors:["exercise","diet"]},confidence:.85,severity:"warning",recommendations:["Increase physical activity to at least 150 minutes per week","Consider reducing refined carbohydrate intake","Monitor blood glucose levels regularly"],biomarkers_involved:["glucose","hba1c","insulin"],lifestyle_factors:["exercise","diet"],created_at:new Date().toISOString()},{id:"cardiovascular_insight_1",category:"cardiovascular",summary:"Elevated cholesterol patterns indicate increased cardiovascular risk, particularly given your current lifestyle factors.",evidence:{biomarkers:["total_cholesterol","ldl_cholesterol","hdl_cholesterol"],scores:{total_cholesterol:.72,ldl_cholesterol:.78,hdl_cholesterol:.45},lifestyle_factors:["diet","exercise","smoking"]},confidence:.88,severity:"warning",recommendations:["Focus on heart-healthy diet with reduced saturated fats","Increase cardiovascular exercise","Consider discussing statin therapy with your healthcare provider"],biomarkers_involved:["total_cholesterol","ldl_cholesterol","hdl_cholesterol"],lifestyle_factors:["diet","exercise"],created_at:new Date().toISOString()},{id:"inflammatory_insight_1",category:"inflammatory",summary:"Elevated inflammatory markers suggest chronic inflammation, potentially linked to your stress levels and sleep patterns.",evidence:{biomarkers:["crp","esr"],scores:{crp:.65,esr:.58},lifestyle_factors:["stress","sleep"]},confidence:.75,severity:"info",recommendations:["Implement stress management techniques","Improve sleep quality and duration","Consider anti-inflammatory dietary changes"],biomarkers_involved:["crp","esr"],lifestyle_factors:["stress","sleep"],created_at:new Date().toISOString()}];return(0,s.jsxs)("main",{className:"min-h-screen",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"HealthIQ AI v5 - Demo & Development"}),s.jsx("p",{className:"text-center text-lg text-muted-foreground",children:"Backend Integration Demo and Development Tools"}),s.jsx("div",{className:"mt-8",children:s.jsx(o,{insights:e})}),(0,s.jsxs)("div",{className:"mt-8 p-8 border border-dashed border-gray-300 rounded-lg text-center",children:[s.jsx("p",{className:"text-gray-600",children:"\uD83D\uDEA7 Development Tools and Backend Demo"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Use the Dev API Probe (bottom right) to test backend integration"})]})]}),!1]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[906,692,481,659],()=>r(4338));module.exports=s})();