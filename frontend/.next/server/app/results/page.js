(()=>{var e={};e.id=87,e.ids=[87],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7984:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d}),a(7182),a(4752),a(6083),a(9644),a(6560);var l=a(3191),r=a(8716),t=a(7922),i=a.n(t),n=a(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7182)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\results\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4752)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,6083)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,9644)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,6560)),"C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\not-found.tsx"]}],o=["C:\\Users\\abroa\\HealthIQ-AI-v5\\frontend\\app\\results\\page.tsx"],m="/results/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/results/page",pathname:"/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5353:(e,s,a)=>{Promise.resolve().then(a.bind(a,5672))},5672:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var l=a(326),r=a(7577),t=a(3431),i=a(2610),n=a(5009),c=a(2881);let d=(0,c.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var o=a(1291);let m=(0,c.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),x=(0,c.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,c.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),g=(0,c.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var u=a(6754),j=a(7069),p=a(361),y=a(1417),N=a(5830),b=a(1621),v=a(2329);let f=(0,c.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var w=a(949),k=a(8019),C=a(8393),Z=a(9183);let _={metabolic:{name:"Metabolic Health",biomarkers:["glucose","hba1c","insulin","c_peptide"],color:"blue"},cardiovascular:{name:"Cardiovascular Health",biomarkers:["total_cholesterol","ldl_cholesterol","hdl_cholesterol","triglycerides","apolipoprotein_b","apolipoprotein_a1"],color:"red"},inflammatory:{name:"Inflammatory Health",biomarkers:["crp","esr","il_6","tnf_alpha"],color:"orange"},organ:{name:"Organ Function",biomarkers:["creatinine","bun","alt","ast","ggt","alkaline_phosphatase"],color:"green"},cbc:{name:"Complete Blood Count",biomarkers:["hemoglobin","hematocrit","wbc","rbc","platelets"],color:"purple"},hormonal:{name:"Hormonal Health",biomarkers:["tsh","free_t4","free_t3","cortisol","testosterone"],color:"pink"},nutritional:{name:"Nutritional Status",biomarkers:["vitamin_d","vitamin_b12","folate","iron","ferritin"],color:"yellow"}},A={glucose:"Glucose",hba1c:"HbA1c",insulin:"Insulin",c_peptide:"C-Peptide",total_cholesterol:"Total Cholesterol",ldl_cholesterol:"LDL Cholesterol",hdl_cholesterol:"HDL Cholesterol",triglycerides:"Triglycerides",apolipoprotein_b:"Apolipoprotein B",apolipoprotein_a1:"Apolipoprotein A1",crp:"C-Reactive Protein",esr:"Erythrocyte Sedimentation Rate",il_6:"Interleukin-6",tnf_alpha:"TNF-α",creatinine:"Creatinine",bun:"Blood Urea Nitrogen",alt:"ALT",ast:"AST",ggt:"GGT",alkaline_phosphatase:"Alkaline Phosphatase",hemoglobin:"Hemoglobin",hematocrit:"Hematocrit",wbc:"White Blood Cell Count",rbc:"Red Blood Cell Count",platelets:"Platelet Count",tsh:"TSH",free_t4:"Free T4",free_t3:"Free T3",cortisol:"Cortisol",testosterone:"Testosterone",vitamin_d:"Vitamin D",vitamin_b12:"Vitamin B12",folate:"Folate",iron:"Iron",ferritin:"Ferritin"},S=e=>{switch(e){case"optimal":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"elevated":return"text-yellow-600 bg-yellow-100";case"low":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},z=e=>{switch(e){case"optimal":case"normal":return l.jsx(p.Z,{className:"h-4 w-4"});case"elevated":return l.jsx(j.Z,{className:"h-4 w-4"});case"low":return l.jsx(f,{className:"h-4 w-4"});case"critical":return l.jsx(w.Z,{className:"h-4 w-4"});default:return l.jsx(k.Z,{className:"h-4 w-4"})}},I=e=>{switch(e){case"optimal":return"Optimal";case"normal":return"Normal";case"elevated":return"Elevated";case"low":return"Low";case"critical":return"Critical";default:return"Unknown"}},P=(e,s)=>{if(!s)return 50;let a=s.max-s.min;return Math.max(0,Math.min(100,(e-s.min)/a*100))},R=(e,s)=>"critical"===s?"stroke-red-500":"elevated"===s||"low"===s?"stroke-yellow-500":"optimal"===s||"normal"===s?"stroke-green-500":e<20||e>80?"stroke-red-500":e<30||e>70?"stroke-yellow-500":"stroke-green-500";function H({biomarkers:e,showDetails:s=!1}){let[a,c]=(0,r.useState)(new Set),[d,o]=(0,r.useState)("all"),m=e=>{let s=new Set(a);s.has(e)?s.delete(e):s.add(e),c(s)},x=(()=>{let s={};return Object.entries(e).forEach(([e,a])=>{let l=Object.entries(_).find(([s,a])=>a.biomarkers.includes(e))?.[0]||"other";s[l]||(s[l]=[]),s[l].push({id:e,data:a})}),s})(),h=Object.keys(x),g=(e,s,a="md")=>{let r="sm"===a?2:"md"===a?3:4,t="sm"===a?28:"md"===a?40:"lg"===a?56:40,i=2*Math.PI*t;return(0,l.jsxs)("div",{className:`${{sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"}[a]} relative`,children:[(0,l.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[l.jsx("circle",{cx:"50",cy:"50",r:t,stroke:"currentColor",strokeWidth:r,fill:"none",className:"text-gray-200"}),l.jsx("circle",{cx:"50",cy:"50",r:t,stroke:"currentColor",strokeWidth:r,fill:"none",strokeDasharray:i,strokeDashoffset:i-e/100*i,className:`transition-all duration-1000 ${R(e,s)}`,strokeLinecap:"round"})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("span",{className:`font-bold ${"sm"===a?"text-sm":"md"===a?"text-lg":"text-xl"}`,children:Math.round(e)})})]})},u=(e,a,r)=>{let i=P(a.value,a.referenceRange);return _[r],l.jsx(t.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsxs)(t.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:A[e]||e}),l.jsx("p",{className:"text-sm text-gray-500",children:a.unit})]}),(0,l.jsxs)(v.C,{className:S(a.status),children:[z(a.status),l.jsx("span",{className:"ml-1",children:I(a.status)})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.value.toFixed(1)}),a.referenceRange&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["Range: ",a.referenceRange.min,"-",a.referenceRange.max," ",a.referenceRange.unit]}),a.date&&l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(a.date).toLocaleDateString()})]}),l.jsx("div",{className:"ml-4",children:g(i,a.status,"md")})]}),s&&a.referenceRange&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Your value"}),l.jsx("span",{className:"font-medium",children:a.value})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Reference range"}),(0,l.jsxs)("span",{className:"font-medium",children:[a.referenceRange.min," - ",a.referenceRange.max]})]}),l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${a.value<a.referenceRange.min?"bg-red-500":a.value>a.referenceRange.max?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,Math.max(0,(a.value-a.referenceRange.min)/(a.referenceRange.max-a.referenceRange.min)*100))}%`}})})})]})]})},e)};return 0===Object.keys(e).length?l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(j.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No biomarker data available."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your biomarker results."})]})})}):l.jsx("div",{className:"space-y-6",children:(0,l.jsxs)(t.Zb,{children:[(0,l.jsxs)(t.Ol,{children:[(0,l.jsxs)(t.ll,{className:"flex items-center gap-2",children:[l.jsx(j.Z,{className:"h-5 w-5"}),"Biomarker Analysis"]}),l.jsx(t.SZ,{children:"Your biomarker values with reference ranges and health status indicators"})]}),l.jsx(t.aY,{children:(0,l.jsxs)(n.mQ,{value:d,onValueChange:o,children:[(0,l.jsxs)(n.dr,{className:"grid w-full grid-cols-8",children:[l.jsx(n.SP,{value:"all",children:"All"}),h.map(e=>l.jsx(n.SP,{value:e,children:_[e]?.name||e},e))]}),l.jsx(n.nU,{value:"all",className:"space-y-6",children:h.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_[e]?.name||e}),l.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>m(e),children:a.has(e)?l.jsx(C.Z,{className:"h-4 w-4"}):l.jsx(Z.Z,{className:"h-4 w-4"})})]}),a.has(e)&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(({id:s,data:a})=>u(s,a,e))})]},e))}),h.map(e=>l.jsx(n.nU,{value:e,className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x[e].map(({id:s,data:a})=>u(s,a,e))})},e))]})})]})})}var M=a(7506);let Y={metabolic:"bg-blue-100 text-blue-800 border-blue-200",cardiovascular:"bg-red-100 text-red-800 border-red-200",inflammatory:"bg-orange-100 text-orange-800 border-orange-200",organ:"bg-green-100 text-green-800 border-green-200",cbc:"bg-purple-100 text-purple-800 border-purple-200",hormonal:"bg-pink-100 text-pink-800 border-pink-200",nutritional:"bg-yellow-100 text-yellow-800 border-yellow-200"},O={low:"text-green-600 bg-green-100",moderate:"text-yellow-600 bg-yellow-100",high:"text-orange-600 bg-orange-100",critical:"text-red-600 bg-red-100"},$={low:l.jsx(p.Z,{className:"h-4 w-4"}),moderate:l.jsx(k.Z,{className:"h-4 w-4"}),high:l.jsx(w.Z,{className:"h-4 w-4"}),critical:l.jsx(w.Z,{className:"h-4 w-4"})},D={improving:"text-green-600",stable:"text-blue-600",declining:"text-red-600"},U={improving:l.jsx(j.Z,{className:"h-4 w-4"}),stable:l.jsx(u.Z,{className:"h-4 w-4"}),declining:l.jsx(j.Z,{className:"h-4 w-4 transform rotate-180"})},T=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600",L=e=>e>=80?"bg-green-500":e>=60?"bg-yellow-500":e>=40?"bg-orange-500":"bg-red-500";function q({clusters:e,isLoading:s=!1,showDetails:a=!1}){let[n,c]=(0,r.useState)(new Set),[d,o]=(0,r.useState)("all"),m=e=>{let s=new Set(n);s.has(e)?s.delete(e):s.add(e),c(s)},x="all"===d?e:e.filter(e=>e.severity===d),h=e.reduce((e,s)=>(e[s.severity]=(e[s.severity]||0)+1,e),{}),g=e.length>0?e.reduce((e,s)=>e+s.score,0)/e.length:0;return s?l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-center py-8",children:[l.jsx(M.Z,{className:"h-8 w-8 animate-spin text-blue-500 mr-3"}),l.jsx("span",{className:"text-gray-600",children:"Loading health clusters..."})]})})}):0===e.length?l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(u.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No health clusters available."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Complete an analysis to view your health cluster analysis."})]})})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),l.jsx("div",{className:"text-sm text-gray-500",children:"Health Clusters"})]})})}),l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:`text-2xl font-bold ${T(g)}`,children:Math.round(g)}),l.jsx("div",{className:"text-sm text-gray-500",children:"Average Score"})]})})}),l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.critical||0}),l.jsx("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]})})}),l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.high||0}),l.jsx("div",{className:"text-sm text-gray-500",children:"High Priority"})]})})})]}),l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by severity:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(i.z,{variant:"all"===d?"default":"outline",size:"sm",onClick:()=>o("all"),children:["All (",e.length,")"]}),(0,l.jsxs)(i.z,{variant:"critical"===d?"default":"outline",size:"sm",onClick:()=>o("critical"),className:"text-red-600 border-red-200 hover:bg-red-50",children:["Critical (",h.critical||0,")"]}),(0,l.jsxs)(i.z,{variant:"high"===d?"default":"outline",size:"sm",onClick:()=>o("high"),className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:["High (",h.high||0,")"]}),(0,l.jsxs)(i.z,{variant:"moderate"===d?"default":"outline",size:"sm",onClick:()=>o("moderate"),className:"text-yellow-600 border-yellow-200 hover:bg-yellow-50",children:["Moderate (",h.moderate||0,")"]})]})]})})}),l.jsx("div",{className:"space-y-4",children:x.map(e=>l.jsx(t.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsxs)(t.aY,{className:"pt-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,l.jsxs)(v.C,{className:O[e.severity],children:[$[e.severity],l.jsx("span",{className:"ml-1 capitalize",children:e.severity})]}),e.trend&&(0,l.jsxs)(v.C,{variant:"outline",className:D[e.trend],children:[U[e.trend],l.jsx("span",{className:"ml-1 capitalize",children:e.trend})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Score:"}),(0,l.jsxs)("span",{className:`font-semibold ${T(e.score)}`,children:[Math.round(e.score),"/100"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Confidence:"}),(0,l.jsxs)("span",{className:"font-semibold text-blue-600",children:[Math.round(100*e.confidence),"%"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:"Biomarkers:"}),l.jsx("span",{className:"font-semibold text-gray-700",children:e.biomarkers.length})]})]})]}),l.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>m(e.id),"aria-label":n.has(e.id)?"Collapse cluster details":"Expand cluster details",children:n.has(e.id)?l.jsx(C.Z,{className:"h-4 w-4"}):l.jsx(Z.Z,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":e.score,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Cluster score: ${Math.round(e.score)}%`,children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${L(e.score)}`,style:{width:`${e.score}%`}})})}),n.has(e.id)&&(0,l.jsxs)("div",{className:"border-t border-gray-100 pt-4 space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Biomarkers Analyzed"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.biomarkers.map(e=>l.jsx(v.C,{variant:"outline",className:"text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),e.recommendations&&e.recommendations.length>0&&(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recommendations"}),l.jsx("ul",{className:"space-y-1",children:e.recommendations.map((e,s)=>(0,l.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),l.jsx("span",{children:e})]},s))})]}),(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Category"}),l.jsx(v.C,{className:Y[e.category]||"bg-gray-100 text-gray-800",children:e.category.replace(/([A-Z])/g," $1").trim()})]})]})]})},e.id))}),0===x.length&&"all"!==d&&l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(k.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No clusters found for the selected severity level."}),l.jsx(i.z,{variant:"outline",onClick:()=>o("all"),className:"mt-2",children:"Show All Clusters"})]})})})]})}var E=a(5047);function B(){let{currentAnalysis:e,isLoading:s,error:a,retryAnalysis:c,clearAnalysis:v}=(0,y._)(),{clusters:f,isLoading:w,loadClusters:k}=(0,N.V)(),[C,Z]=(0,r.useState)("overview"),[_,A]=(0,r.useState)(!1),S=(0,E.useRouter)(),z=()=>{v(),S.push("/upload")},I=()=>{if(!e)return;let s="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),a=`healthiq-analysis-${new Date().toISOString().split("T")[0]}.json`,l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download",a),l.click()};if(s)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx(t.Zb,{className:"w-full max-w-md",children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx(d,{className:"h-16 w-16 text-blue-500 mx-auto mb-4 animate-spin"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyzing Your Data"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Our AI is processing your biomarker data and generating personalized insights. This may take a few moments."}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})})});if(a)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx(t.Zb,{className:"w-full max-w-md",children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx(o.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analysis Failed"}),l.jsx("p",{className:"text-gray-600 mb-4",children:a?.message||"An unknown error occurred"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(i.z,{onClick:()=>{e&&c()},className:"w-full",children:[l.jsx(d,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsx(i.z,{onClick:z,variant:"outline",className:"w-full",children:"Start New Analysis"})]})]})})})});if(!e)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx(t.Zb,{className:"w-full max-w-md",children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx(o.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Analysis Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete an analysis first."}),l.jsx(i.z,{onClick:z,className:"w-full",children:"Start New Analysis"})]})})})});let{results:P,created_at:R,completed_at:M}=e,Y=P?.insights||[],O={analysisId:e.analysis_id,completedAt:M,biomarkerCount:P?.biomarkers?.length||0,confidence:.85};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 max-w-7xl",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Your Health Analysis Results"}),l.jsx("p",{className:"text-lg text-gray-600",children:"AI-powered insights from your biomarker data"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>A(!_),children:[_?l.jsx(m,{className:"h-4 w-4 mr-2"}):l.jsx(x,{className:"h-4 w-4 mr-2"}),_?"Hide Details":"Show Details"]}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:I,children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{navigator.share&&e?navigator.share({title:"HealthIQ Analysis Results",text:"Check out my health analysis results from HealthIQ AI",url:window.location.href}):navigator.clipboard.writeText(window.location.href)},children:[l.jsx(g,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),l.jsx(t.Zb,{className:"mb-6",children:l.jsx(t.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Analysis ID:"}),l.jsx("p",{className:"font-mono text-xs",children:O?.analysisId||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Completed:"}),l.jsx("p",{children:O?.completedAt?new Date(O.completedAt).toLocaleString():"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Biomarkers:"}),(0,l.jsxs)("p",{children:[O?.biomarkerCount||0," analyzed"]})]}),(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Confidence:"}),l.jsx("p",{children:O?.confidence?`${Math.round(100*O.confidence)}%`:"N/A"})]})]})})})]}),(0,l.jsxs)(n.mQ,{value:C,onValueChange:Z,className:"w-full",children:[(0,l.jsxs)(n.dr,{className:"grid w-full grid-cols-4 mb-8",children:[(0,l.jsxs)(n.SP,{value:"overview",className:"flex items-center gap-2",children:[l.jsx(u.Z,{className:"h-4 w-4"}),"Overview"]}),(0,l.jsxs)(n.SP,{value:"biomarkers",className:"flex items-center gap-2",children:[l.jsx(j.Z,{className:"h-4 w-4"}),"Biomarkers"]}),(0,l.jsxs)(n.SP,{value:"clusters",className:"flex items-center gap-2",children:[l.jsx(u.Z,{className:"h-4 w-4"}),"Health Clusters"]}),(0,l.jsxs)(n.SP,{value:"insights",className:"flex items-center gap-2",children:[l.jsx(j.Z,{className:"h-4 w-4"}),"AI Insights"]})]}),(0,l.jsxs)(n.nU,{value:"overview",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(t.Zb,{children:[l.jsx(t.Ol,{children:(0,l.jsxs)(t.ll,{className:"flex items-center gap-2",children:[l.jsx(p.Z,{className:"h-5 w-5 text-green-500"}),"Overall Health Score"]})}),l.jsx(t.aY,{children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl font-bold text-green-600 mb-2",children:P?.overall_score?Math.round(P.overall_score):"N/A"}),l.jsx("p",{className:"text-gray-600",children:"out of 100"}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-1000",style:{width:`${P?.overall_score||0}%`}})})})]})})]}),(0,l.jsxs)(t.Zb,{children:[l.jsx(t.Ol,{children:l.jsx(t.ll,{children:"Key Health Metrics"})}),l.jsx(t.aY,{children:l.jsx("div",{className:"space-y-4",children:P?.risk_assessment&&Object.entries(P.risk_assessment).map(([e,s])=>(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"capitalize text-sm font-medium",children:e.replace(/([A-Z])/g," $1").trim()}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s}%`}})}),l.jsx("span",{className:"text-sm font-semibold w-8",children:Math.round(s)})]})]},e))})})]})]}),Y&&Y.length>0&&(0,l.jsxs)(t.Zb,{children:[(0,l.jsxs)(t.Ol,{children:[l.jsx(t.ll,{children:"Quick Insights"}),l.jsx(t.SZ,{children:"Key findings from your analysis"})]}),l.jsx(t.aY,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.slice(0,6).map((e,s)=>l.jsx("div",{className:"p-4 border rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${"critical"===e.severity?"bg-red-500":"warning"===e.severity?"bg-yellow-500":"bg-blue-500"}`}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:e.category?.replace(/([A-Z])/g," $1").trim()}),l.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.summary})]})]})},s))})})]})]}),l.jsx(n.nU,{value:"biomarkers",className:"space-y-6",children:l.jsx(H,{biomarkers:P?.biomarkers?.reduce((e,s)=>(e[s.biomarker_name]={value:s.value,unit:s.unit,status:s.status,referenceRange:s.reference_range?{min:s.reference_range.min,max:s.reference_range.max,unit:s.reference_range.unit}:void 0,date:R},e),{})||{},showDetails:_})}),l.jsx(n.nU,{value:"clusters",className:"space-y-6",children:l.jsx(q,{clusters:f.map(e=>({id:e.id,name:e.name,category:e.category,score:e.score,confidence:.85,biomarkers:e.biomarkers,description:e.description,recommendations:e.recommendations,severity:"low"===e.risk_level?"low":"medium"===e.risk_level?"moderate":"high"===e.risk_level?"high":"critical",trend:"stable"})),isLoading:w,showDetails:_})}),l.jsx(n.nU,{value:"insights",className:"space-y-6",children:Y&&Y.length>0?l.jsx(b.InsightsPanel,{insights:Y}):l.jsx(t.Zb,{children:l.jsx(t.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(j.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No insights available yet."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Complete your analysis to generate personalized insights."})]})})})})]}),(0,l.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[l.jsx(i.z,{onClick:z,variant:"outline",children:"Start New Analysis"}),(0,l.jsxs)(i.z,{onClick:I,children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),"Export Results"]})]})]})})}},1291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(2881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7506:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5047:(e,s,a)=>{"use strict";var l=a(7389);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})},7182:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});let l=(0,a(8570).createProxy)(String.raw`C:\Users\abroa\HealthIQ-AI-v5\frontend\app\results\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),l=s.X(0,[906,692,481,659],()=>a(7984));module.exports=l})();